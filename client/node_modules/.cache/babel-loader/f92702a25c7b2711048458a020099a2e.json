{"ast":null,"code":"var _jsxFileName = \"D:\\\\Bootcamp\\\\Stage 2\\\\client\\\\src\\\\Components\\\\register\\\\registCard.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useMutation } from 'react-query';\nimport { API } from '../../config/api';\nimport styles from \"../../Css/regist.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction RegistCard() {\n  _s();\n\n  const title = 'Register';\n  document.title = 'DumbMerch | ' + title;\n  const [message, setMessage] = useState(null);\n  const [form, setForm] = useState({\n    name: '',\n    email: '',\n    password: '',\n    image: '',\n    phone: '',\n    gender: '',\n    address: ''\n  });\n  const {\n    name,\n    email,\n    password\n  } = form;\n\n  const handleChange = e => {\n    setForm({ ...form,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = useMutation(async e => {\n    try {\n      e.preventDefault();\n      const config = {\n        headers: {\n          'Content-type': 'application/json'\n        }\n      };\n      const body = JSON.stringify(form);\n      const response = await API.post('/register', body, config);\n      console.log(response.data);\n      const formData = new FormData();\n      formData.set(\"image\", form.image[0], form.image[0].name);\n      formData.set(\"phone\", form.phone);\n      formData.set(\"gender\", form.gender);\n      formData.set(\"address\", form.address); // Insert profile data\n\n      const response2 = await API.post(\"/profile\", formData, config);\n      console.log(response2.data);\n      setMessage(null);\n    } catch (error) {\n      const alert = /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: '#F74D4D',\n          fontSize: '0.7rem',\n          padding: '0.5rem',\n          borderRadius: '0.3rem',\n          color: \"white\",\n          fontWeight: 'bold',\n          position: 'absolute',\n          right: '2rem',\n          width: '10rem',\n          top: '7.3rem'\n        },\n        children: error.response.data\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this);\n\n      setMessage(alert);\n      console.log(error);\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.loginCard,\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Register\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => handleSubmit.mutate(e),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.cardForm,\n        children: [message && message, /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: handleChange,\n          name: \"name\",\n          type: \"text\",\n          value: name,\n          placeholder: \"Name\",\n          id: \"name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: handleChange,\n          name: \"email\",\n          type: \"email\",\n          value: email,\n          placeholder: \"Email\",\n          id: \"email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: handleChange,\n          name: \"password\",\n          type: \"password\",\n          value: password,\n          placeholder: \"Password\",\n          id: \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          hidden: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n}\n\n_s(RegistCard, \"WA5DhPXtonZFuNj6TiamdLw7qfs=\", false, function () {\n  return [useMutation];\n});\n\n_c = RegistCard;\nexport default RegistCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"RegistCard\");","map":{"version":3,"names":["React","useState","useMutation","API","styles","RegistCard","title","document","message","setMessage","form","setForm","name","email","password","image","phone","gender","address","handleChange","e","target","value","handleSubmit","preventDefault","config","headers","body","JSON","stringify","response","post","console","log","data","formData","FormData","set","response2","error","alert","backgroundColor","fontSize","padding","borderRadius","color","fontWeight","position","right","width","top","loginCard","mutate","cardForm"],"sources":["D:/Bootcamp/Stage 2/client/src/Components/register/registCard.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useMutation } from 'react-query'\r\nimport { API } from '../../config/api'\r\nimport styles from \"../../Css/regist.module.css\";\r\n\r\nfunction RegistCard() {\r\n\r\n  const title = 'Register';\r\n  document.title = 'DumbMerch | ' + title;\r\n\r\n  const [message, setMessage] = useState(null);\r\n\r\n  const [form, setForm] = useState({\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    image: '',\r\n    phone: '',\r\n    gender: '',\r\n    address:''\r\n  });\r\n\r\n  const { name, email, password } = form;\r\n\r\n  const handleChange = (e) => {\r\n    setForm({\r\n      ...form,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  \r\n  const handleSubmit = useMutation(async (e) => {\r\n    try {\r\n      e.preventDefault();\r\n  \r\n      \r\n      const config = {\r\n        headers: {\r\n          'Content-type': 'application/json', \r\n        },\r\n      };\r\n  \r\n      const body = JSON.stringify(form);   \r\n\r\n      const response = await API.post('/register', body, config);\r\n      console.log(response.data)\r\n\r\n      const formData = new FormData();\r\n      formData.set(\"image\", form.image[0], form.image[0].name);\r\n      formData.set(\"phone\", form.phone);\r\n      formData.set(\"gender\", form.gender);\r\n      formData.set(\"address\", form.address);\r\n\r\n      // Insert profile data\r\n      const response2 = await API.post(\"/profile\", formData, config);\r\n      console.log(response2.data)\r\n\r\n      setMessage(null)\r\n    } catch (error) {\r\n      const alert = (\r\n        <div style={{\r\n          backgroundColor: '#F74D4D',\r\n          fontSize: '0.7rem',\r\n          padding:'0.5rem',\r\n          borderRadius:'0.3rem',\r\n          color:\"white\",\r\n          fontWeight: 'bold',\r\n          position: 'absolute',\r\n          right: '2rem',\r\n          width: '10rem',\r\n          top: '7.3rem'\r\n        }}>{error.response.data}</div>\r\n      );\r\n      setMessage(alert);\r\n      console.log(error);\r\n    }\r\n  });\r\n\r\n  return (\r\n    <div className={styles.loginCard}>\r\n      <h1>Register</h1>\r\n      <form onSubmit={(e) => handleSubmit.mutate(e)}>\r\n        <div className={styles.cardForm}>\r\n        {message && message}\r\n          <input onChange={handleChange} name=\"name\" type=\"text\"  value={name} placeholder=\"Name\" id=\"name\" />\r\n          <input onChange={handleChange} name=\"email\" type=\"email\"  value={email} placeholder=\"Email\" id=\"email\" />\r\n          <input onChange={handleChange} name=\"password\" type=\"password\"  value={password} placeholder=\"Password\" id=\"password\" />\r\n          <input hidden></input>\r\n          <button type=\"submit\">Register</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RegistCard;"],"mappings":"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"},"metadata":{},"sourceType":"module"}