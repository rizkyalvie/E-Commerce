{"ast":null,"code":"var _jsxFileName = \"D:\\\\Bootcamp\\\\Stage 2\\\\client\\\\src\\\\Pages\\\\admin\\\\ProductAdmin.js\",\n    _s = $RefreshSig$();\n\nimport styles from \"../../Css/product.module.css\";\nimport Navbar from \"../../Components/nav/navAdmin\";\nimport Edit from \"../../Components/product/product\";\nimport { API } from \"../../config/api\";\nimport Modal from \"../../Components/category/modal\";\nimport { useQuery } from 'react-query';\nimport { useState } from \"react\";\nimport { useEffect, useMutation } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Product() {\n  _s();\n\n  const [edit, setEdit] = useState(false);\n  const [modal, setModal] = useState(false);\n  let navigate = useNavigate();\n  const title = 'Product Admin';\n  document.title = 'DumbMerch | ' + title; // Create variabel for id product and confirm delete data with useState here ...\n\n  const [idDelete, setIdDelete] = useState(null);\n  const [confirmDelete, setConfirmDelete] = useState(null);\n\n  const handleShow = () => setShow(true);\n\n  let {\n    data: products,\n    refetch\n  } = useQuery('productsCache', async () => {\n    const response = await API.get('/products');\n    console.log(response.data.data);\n    return response.data.data;\n  });\n\n  const addProduct = () => {\n    navigate('/admin/add-product');\n  };\n\n  const handleEdit = id => {\n    navigate(`/admin/edit-product/${id}`);\n  }; // Create function handle get id product & show modal confirm delete data here ...\n  // const handleDelete = (id) => {\n  //   setIdDelete(id);\n  //   handleShow();\n  // };\n  // Create function for handle delete product here ...\n  // If confirm is true, execute delete data\n  // const deleteById = useMutation(async (id) => {\n  //   try {\n  //     await API.delete(`/product/${id}`);\n  //     refetch();\n  //   } catch (error) {\n  //     console.log(error);\n  //   }\n  // });\n  // Call function for handle close modal and execute delete data with useEffect here ...\n  // useEffect(() => {\n  //   if (confirmDelete) {\n  //     // Close modal confirm delete data\n  //     handleClose();\n  //     // execute delete data by id function\n  //     deleteById.mutate(idDelete);\n  //     setConfirmDelete(null);\n  //   }\n  // }, [confirmDelete]);\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.container,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.catContainer,\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: styles.contentTable,\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"No\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Photo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Product Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Product Desc\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Price\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Qty\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Action\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: products === null || products === void 0 ? void 0 : products.map((item, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: index + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: item.image,\n                  style: {\n                    width: '80px',\n                    height: '80px',\n                    objectFit: 'cover'\n                  },\n                  alt: item.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"text-truncate\",\n                children: item.desc\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.price\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.qty\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: styles.edit,\n                  onClick: () => {\n                    setEdit(true);\n                  },\n                  children: \"Edit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: styles.delete,\n                  onClick: () => {\n                    setModal(true);\n                  },\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), edit && /*#__PURE__*/_jsxDEV(Edit, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 16\n    }, this), modal && /*#__PURE__*/_jsxDEV(Modal, {\n      closeModal: setModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Product, \"lqarx9NIHWWzGZoFJIrnPzsj/sI=\", false, function () {\n  return [useNavigate, useQuery];\n});\n\n_c = Product;\nexport default Product;\n\nvar _c;\n\n$RefreshReg$(_c, \"Product\");","map":{"version":3,"names":["styles","Navbar","Edit","API","Modal","useQuery","useState","useEffect","useMutation","useNavigate","Product","edit","setEdit","modal","setModal","navigate","title","document","idDelete","setIdDelete","confirmDelete","setConfirmDelete","handleShow","setShow","data","products","refetch","response","get","console","log","addProduct","handleEdit","id","container","catContainer","contentTable","map","item","index","image","width","height","objectFit","name","desc","price","qty","delete"],"sources":["D:/Bootcamp/Stage 2/client/src/Pages/admin/ProductAdmin.js"],"sourcesContent":["import styles from \"../../Css/product.module.css\";\r\nimport Navbar from \"../../Components/nav/navAdmin\";\r\nimport Edit from \"../../Components/product/product\"\r\nimport {API} from \"../../config/api\"\r\nimport Modal from \"../../Components/category/modal\"\r\nimport {useQuery} from 'react-query'\r\nimport {useState} from \"react\"\r\nimport {useEffect, useMutation} from 'react'\r\nimport {useNavigate} from 'react-router-dom'\r\n\r\nfunction Product() {\r\n\r\n  const [edit, setEdit] = useState(false)\r\n  const [modal, setModal] = useState(false)\r\n\r\n  let navigate = useNavigate();\r\n\r\n  const title = 'Product Admin';\r\n  document.title = 'DumbMerch | ' + title;\r\n\r\n  // Create variabel for id product and confirm delete data with useState here ...\r\n  const [idDelete, setIdDelete] = useState(null);\r\n  const [confirmDelete, setConfirmDelete] = useState(null);\r\n\r\n  const handleShow = () => setShow(true);\r\n\r\n  let { data: products, refetch } = useQuery('productsCache', async () => {\r\n    const response = await API.get('/products');\r\n    console.log(response.data.data)\r\n    return response.data.data\r\n  });\r\n\r\n  const addProduct = () => {\r\n    navigate('/admin/add-product');\r\n  };\r\n\r\n  const handleEdit = (id) => {\r\n    navigate(`/admin/edit-product/${id}`);\r\n  };\r\n\r\n  // Create function handle get id product & show modal confirm delete data here ...\r\n  // const handleDelete = (id) => {\r\n  //   setIdDelete(id);\r\n  //   handleShow();\r\n  // };\r\n\r\n\r\n  // Create function for handle delete product here ...\r\n  // If confirm is true, execute delete data\r\n  // const deleteById = useMutation(async (id) => {\r\n  //   try {\r\n  //     await API.delete(`/product/${id}`);\r\n  //     refetch();\r\n  //   } catch (error) {\r\n  //     console.log(error);\r\n  //   }\r\n  // });\r\n\r\n  // Call function for handle close modal and execute delete data with useEffect here ...\r\n  // useEffect(() => {\r\n  //   if (confirmDelete) {\r\n  //     // Close modal confirm delete data\r\n  //     handleClose();\r\n  //     // execute delete data by id function\r\n  //     deleteById.mutate(idDelete);\r\n  //     setConfirmDelete(null);\r\n  //   }\r\n  // }, [confirmDelete]);\r\n\r\n  return (\r\n    <div>\r\n      <Navbar />\r\n      <div className={styles.container}>\r\n        <div className={styles.catContainer}>\r\n          <table className={styles.contentTable}>\r\n            <thead>\r\n              <tr>\r\n                <th>No</th>\r\n                <th>Photo</th>\r\n                <th>Product Name</th>\r\n                <th>Product Desc</th>\r\n                <th>Price</th>\r\n                <th>Qty</th>\r\n                <th>Action</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n            {products?.map((item, index) => (\r\n                  <tr key={index}>\r\n                    <td>{index + 1}</td>\r\n                    <td><img src={item.image} style={{ width: '80px', height: '80px', objectFit: 'cover' }} alt={item.name} /></td>\r\n                    <td>{item.name}</td>\r\n                    <td className='text-truncate'>{item.desc}</td>\r\n                    <td>{item.price}</td>\r\n                    <td>{item.qty}</td>\r\n                    <td>\r\n                    <button\r\n                      className={styles.edit}\r\n                      onClick={() => {\r\n                        setEdit(true);\r\n                      }}\r\n                    >\r\n                      Edit\r\n                    </button>\r\n                    <button\r\n                      className={styles.delete}\r\n                      onClick={() => {\r\n                        setModal(true);\r\n                      }}\r\n                    >\r\n                      Delete\r\n                    </button>\r\n                  </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody> \r\n          </table>\r\n        </div>\r\n      </div>\r\n      {edit && <Edit/>}\r\n      {modal && <Modal closeModal={setModal}/>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Product;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}