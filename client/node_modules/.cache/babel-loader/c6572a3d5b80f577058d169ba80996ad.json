{"ast":null,"code":"var _jsxFileName = \"D:\\\\Bootcamp\\\\Stage 2\\\\client\\\\src\\\\Components\\\\login\\\\loginCard.js\",\n    _s = $RefreshSig$();\n\nimport styles from \"../../Css/login.module.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useContext, useState } from 'react';\nimport { UserContext } from '../../context/userContext'; // Import useMutation from react-query here ...\n\nimport { useMutation } from 'react-query';\nimport { API } from '../../config/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction LoginCard() {\n  _s();\n\n  let navigate = useNavigate();\n  const title = 'Login';\n  document.title = 'DumbMerch | ' + title;\n  const [state, dispatch] = useContext(UserContext);\n  console.log(state);\n  const [message, setMessage] = useState(null); // Create variabel for store data with useState here ...\n\n  const [form, setForm] = useState({\n    email: '',\n    password: ''\n  });\n  const {\n    email,\n    password\n  } = form;\n\n  const handleChange = e => {\n    setForm({ ...form,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = useMutation(async e => {\n    try {\n      e.preventDefault();\n      const config = {\n        headers: {\n          'Content-type': 'application/json'\n        }\n      };\n      const body = JSON.stringify(form);\n      const response = await API.post('/login', body, config);\n      const userStatus = response.data.data.status;\n      dispatch({\n        type: 'LOGIN_SUCCESS',\n        payload: response.data.data\n      });\n\n      if (userStatus == 'customer') {\n        navigate('/');\n      } else if (userStatus == 'admin') {\n        navigate('/complain-admin');\n      }\n\n      setMessage(null);\n    } catch (error) {\n      const alert = /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"danger\",\n        className: \"py-1\",\n        children: error.response.data.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this);\n\n      setMessage(alert);\n      console.log(error.response.data.message);\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.loginCard,\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => handleSubmit.mutate(e),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.cardForm,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: handleChange,\n          type: \"text\",\n          placeholder: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: handleChange,\n          type: \"password\",\n          placeholder: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n}\n\n_s(LoginCard, \"/UrKwbfB69+XWs/Rge/k6pEVkgI=\", false, function () {\n  return [useNavigate, useMutation];\n});\n\n_c = LoginCard;\nexport default LoginCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginCard\");","map":{"version":3,"names":["styles","useNavigate","useContext","useState","UserContext","useMutation","API","LoginCard","navigate","title","document","state","dispatch","console","log","message","setMessage","form","setForm","email","password","handleChange","e","target","name","value","handleSubmit","preventDefault","config","headers","body","JSON","stringify","response","post","userStatus","data","status","type","payload","error","alert","loginCard","mutate","cardForm"],"sources":["D:/Bootcamp/Stage 2/client/src/Components/login/loginCard.js"],"sourcesContent":["import styles from \"../../Css/login.module.css\";\r\nimport {useNavigate} from \"react-router-dom\"\r\nimport { useContext, useState } from 'react';\r\nimport { UserContext } from '../../context/userContext';\r\n\r\n// Import useMutation from react-query here ...\r\nimport { useMutation } from 'react-query'\r\n\r\nimport { API } from '../../config/api'\r\n\r\nfunction LoginCard() {\r\n  let navigate = useNavigate()\r\n\r\n  const title = 'Login';\r\n  document.title = 'DumbMerch | ' + title;\r\n\r\n  const [state, dispatch] = useContext(UserContext);\r\n\r\n  console.log(state)\r\n\r\n  const [message, setMessage] = useState(null);\r\n\r\n  // Create variabel for store data with useState here ...\r\n  const [form, setForm] = useState({\r\n    email: '',\r\n    password: '',\r\n  });\r\n\r\n  const { email, password } = form;\r\n\r\n  const handleChange = (e) => {\r\n    setForm({\r\n      ...form,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = useMutation(async (e) => {\r\n    try {\r\n      e.preventDefault();\r\n  \r\n      const config = {\r\n        headers: {\r\n          'Content-type': 'application/json',\r\n        },\r\n      };\r\n  \r\n      const body = JSON.stringify(form);\r\n  \r\n      const response = await API.post('/login', body, config);\r\n  \r\n      const userStatus = response.data.data.status\r\n\r\n      dispatch({\r\n        type: 'LOGIN_SUCCESS',\r\n        payload: response.data.data\r\n      })\r\n      \r\n      if(userStatus == 'customer'){\r\n        navigate('/')\r\n      } else if(userStatus == 'admin' ){ \r\n        navigate('/complain-admin')\r\n      }\r\n\r\n\r\n      setMessage(null);\r\n    } catch (error) {\r\n      const alert = (\r\n        <Alert variant=\"danger\" className=\"py-1\">\r\n          {error.response.data.message}\r\n        </Alert>\r\n      );\r\n      setMessage(alert);\r\n      console.log(error.response.data.message);\r\n    }\r\n  });\r\n\r\n  \r\n  return (\r\n    <div className={styles.loginCard}>\r\n      <h1>Login</h1>\r\n      <form onSubmit={(e) => handleSubmit.mutate(e)}>\r\n        <div className={styles.cardForm}>\r\n          <input onChange={handleChange} type=\"text\" placeholder=\"Email\" />\r\n          <input onChange={handleChange} type=\"password\" placeholder=\"Password\" />\r\n          <button>Login</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LoginCard;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}